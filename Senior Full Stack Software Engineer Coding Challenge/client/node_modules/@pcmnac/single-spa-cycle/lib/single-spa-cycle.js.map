{"version":3,"sources":["../src/single-spa-cycle.js"],"names":["singleSpaCycle","defaultOpts","run","drivers","rootComponent","userOpts","Error","opts","bootstrap","bind","mount","unmount","Promise","resolve","reject","dispose"],"mappings":";;;;;;;;;;kBAOwBA,c;AAPxB,IAAMC,cAAc;AACnB;AACAC,MAAK,IAFc;AAGnBC,UAAS,IAHU;AAInBC,gBAAe;AAJI,CAApB;;AAOe,SAASJ,cAAT,CAAwBK,QAAxB,EAAkC;AAChD,KAAI,QAAOA,QAAP,yCAAOA,QAAP,OAAoB,QAAxB,EAAkC;AACjC,QAAM,IAAIC,KAAJ,oDAAN;AACA;;AAED,KAAMC,oBACFN,WADE,EAEFI,QAFE,CAAN;;AAKA,KAAI,CAACE,KAAKL,GAAV,EAAe;AACd,QAAM,IAAII,KAAJ,qDAAN;AACA;;AAGD,KAAI,CAACC,KAAKJ,OAAV,EAAmB;AAClB,QAAM,IAAIG,KAAJ,gDAAN;AACA;;AAED,KAAI,CAACC,KAAKH,aAAV,EAAyB;AACxB,QAAM,IAAIE,KAAJ,sDAAN;AACA;;AAED,QAAO;AACNE,aAAWA,UAAUC,IAAV,CAAe,IAAf,EAAqBF,IAArB,CADL;AAENG,SAAOA,MAAMD,IAAN,CAAW,IAAX,EAAiBF,IAAjB,CAFD;AAGNI,WAASA,QAAQF,IAAR,CAAa,IAAb,EAAmBF,IAAnB;AAHH,EAAP;AAKA;;AAED,SAASC,SAAT,CAAmBD,IAAnB,EAAyB;AACxB,QAAOK,QAAQC,OAAR,EAAP;AACA;;AAED,SAASH,KAAT,CAAeH,IAAf,EAAqB;AACpB,QAAO,IAAIK,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvCP,OAAKQ,OAAL,GAAeR,KAAKL,GAAL,CAASK,KAAKH,aAAd,EAA6BG,KAAKJ,OAAlC,CAAf;AACAU;AACA,EAHM,CAAP;AAIA;;AAED,SAASF,OAAT,CAAiBJ,IAAjB,EAAuB;AACtB,QAAO,IAAIK,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,MAAIP,KAAKQ,OAAT,EAAkB;AACjBR,QAAKQ,OAAL;AACAR,QAAKQ,OAAL,GAAe,IAAf;AACA;AACDF;AACA,EANM,CAAP;AAOA","file":"single-spa-cycle.js","sourcesContent":["const defaultOpts = {\n\t// required opts\n\trun: null,\n\tdrivers: null,\n\trootComponent: null,\n}\n\nexport default function singleSpaCycle(userOpts) {\n\tif (typeof userOpts !== 'object') {\n\t\tthrow new Error(`single-spa-cycle requires a configuration object`);\n\t}\n\n\tconst opts = {\n\t\t...defaultOpts,\n\t\t...userOpts,\n\t};\n\n\tif (!opts.run) {\n\t\tthrow new Error(`single-spa-cycle must be passed opts.run function`);\n\t}\n\n\n\tif (!opts.drivers) {\n\t\tthrow new Error(`single-spa-cycle must be passed opts.drivers`);\n\t}\n\n\tif (!opts.rootComponent) {\n\t\tthrow new Error(`single-spa-cycle must be passed opts.rootComponent`);\n\t}\n\t\n\treturn {\n\t\tbootstrap: bootstrap.bind(null, opts),\n\t\tmount: mount.bind(null, opts),\n\t\tunmount: unmount.bind(null, opts),\n\t};\n}\n\nfunction bootstrap(opts) {\n\treturn Promise.resolve();\n}\n\nfunction mount(opts) {\n\treturn new Promise((resolve, reject) => {\n\t\topts.dispose = opts.run(opts.rootComponent, opts.drivers);\n\t\tresolve();\n\t});\n}\n\nfunction unmount(opts) {\n\treturn new Promise((resolve, reject) => {\n\t\tif (opts.dispose) {\n\t\t\topts.dispose();\n\t\t\topts.dispose = null;\n\t\t}\n\t\tresolve();\n\t});\n}"]}